// SPDX-License-Identifier: (GPL-2.0 OR MIT)

/dts-v1/;

#include "mt7981b-cudy-m3000-v1.dtsi"

/ {
	model = "Cudy M3000 v1";
	compatible = "cudy,m3000-v1", "mediatek,mt7981";
};

&mdio_bus {
	/* We need to have the reset GPIO on the MDIO bus node,
	 * otherwise the PHY would be held in reset during PHY detection */
	reset-gpios = <&pio 39 GPIO_ACTIVE_LOW>;
	reset-delay-us = <100000>;
	reset-post-delay-us = <100000>;

	wan_phy: ethernet-phy@1 {
		/* Either Realtek RTL8221B-VB-CG or Motorcomm YT8821
		 * (but YT8821 does not work reliably when auto-detected) */
		compatible = "ethernet-phy-ieee802.3-c45";
		reg = <1>;
		interrupts = <38 IRQ_TYPE_LEVEL_LOW>;
		interrupt-parent = <&pio>;
	};
};

